---
import WordColor from './ui/WordColor.astro';
import GithubCard from './ui/GithubCard.astro';
import AboutCard from './ui/AboutCard.astro';
import SkillCard from './ui/SkillCard.astro';

export interface AboutContentType {
  name: string;
  jobTitle: string;
  title: string;
  subtitle: string;
  description: string;
  github: {
    username: string;
    avatar: string;
    url: string;
  };
  stats: { label: string; value: number; suffix: string }[];
  skills: { name: string; percentage: number }[];
  technologies: string[];
  cta: { text: string; href: string; icon: string; count: number };
}

const aboutContent: AboutContentType = {
  name: 'Weiguang Li',
  jobTitle: 'Java Backend Developer & Tech Blogger',
  title: 'About Me',
  subtitle: 'Passionate about technology with a focus on backend development, dedicated to sharing technical insights and contributing to open source.',
  description:
    "I'm a Java Backend Engineer with extensive experience in Spring Boot, MySQL, Redis, and distributed systems. I've accumulated rich backend architecture experience and love exploring new technologies while sharing my learnings through blog posts. In my spare time, I enjoy studying open source projects and applying good design principles to real-world work.",
  github: {
    username: 'github.com/OiPunk',
    avatar: '/img/male2.jpg',
    url: 'https://github.com/OiPunk',
  },
  stats: [
    { label: 'GitHub Stars', value: 620, suffix: '+' },
    { label: 'Blog Posts', value: 50, suffix: '+' },
    { label: 'Repositories', value: 20, suffix: '+' },
  ],
  skills: [
    { name: 'Backend', percentage: 90 },
    { name: 'Database', percentage: 85 },
    { name: 'DevOps', percentage: 70 },
    { name: 'Frontend', percentage: 50 },
  ],
  technologies: [
    'Java',
    'Spring Boot',
    'MySQL',
    'Redis',
    'Docker',
    'Kubernetes',
    'RabbitMQ',
    'Git',
  ],
  cta: {
    text: 'View My GitHub',
    href: 'https://github.com/OiPunk',
    icon: 'fab fa-github',
    count: 10,
  },
};
---

<section id="about" class="py-20 lg:px-8 bg-gray-900/50 relative overflow-hidden">
  <!-- Background Elements: GitHub-style Dots -->
  <div class="absolute inset-0 overflow-hidden opacity-10 pointer-events-none">
    <div class="absolute top-40 right-28 lg:right-40 size-48">
      <div class="w-full h-full grid grid-cols-10 gap-2">
        <template x-for="i in 100">
          <div class="w-2 h-2 rounded-full bg-gray-400"></div>
        </template>
      </div>
    </div>
    <div class="absolute bottom-24 left-28 lg:left-40 size-48">
      <div class="w-full h-full grid grid-cols-10 gap-2">
        <template x-for="i in 100">
          <div class="w-2 h-2 rounded-full bg-gray-400"></div>
        </template>
      </div>
    </div>
  </div>
  <div class="max-w-6xl mx-auto px-6 lg:px-12 relative z-10">
    <div class="text-center mb-16">
      <h2 class="text-3xl lg:text-4xl font-bold font-code inline-block relative text-white mb-1">
        <WordColor text={aboutContent.title} wordsPerColor={1} />
        <div class="absolute -bottom-2 left-0 w-full h-1 bg-green-500 opacity-70"></div>
      </h2>
      <p class="text-gray-400 mt-4 max-w-2xl mx-auto">{aboutContent.subtitle}</p>
    </div>
    <div class="relative lg:max-w-5xl mx-auto lg:px-12">
      <GithubCard
        github={aboutContent.github}
        cta={aboutContent.cta}
        name={aboutContent.name}
        jobTitle={aboutContent.jobTitle}
      />
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 max-w-5xl mx-auto">
        <AboutCard description={aboutContent.description} stats={aboutContent.stats} />
        <SkillCard skills={aboutContent.skills} technologies={aboutContent.technologies} />
      </div>
    </div>
  </div>
</section>