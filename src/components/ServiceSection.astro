---
import ServiceCard from './ui/ServiceCard.astro';
import Button from './ui/Button.astro';
import Coffee from './ui/Coffee.astro';

interface Service {
  title: string;
  icon: string;
  description: string;
  skills: string[];
}

interface ServiceSectionContent {
  header: {
    title: string;
    subtitle: string;
    path: string;
  };
  services: Service[];
  cta: {
    text: string;
    href: string;
    icon: string;
  };
}

const content: ServiceSectionContent = {
  header: {
    title: "Expertise",
    subtitle: "Explore my technical expertise and specializations. From backend architecture to distributed systems, building solutions that scale.",
    path: "expertise",
  },
  services: [
    {
      title: "Backend Development",
      icon: "fas fa-server",
      description: "Building high-performance backend systems using Java and Spring Boot ecosystem. Designing RESTful APIs, implementing business logic, and ensuring code quality with best practices.",
      skills: ["Java", "Spring Boot", "Spring MVC", "MyBatis"],
    },
    {
      title: "Distributed Systems",
      icon: "fas fa-sitemap",
      description: "Architecting microservices with Spring Cloud, implementing service discovery, load balancing, circuit breakers, and distributed configuration management.",
      skills: ["Spring Cloud", "Nacos", "Gateway", "Sentinel"],
    },
    {
      title: "Database & Caching",
      icon: "fas fa-database",
      description: "Optimizing MySQL performance with proper indexing, query tuning, and sharding strategies. Implementing Redis caching for high-throughput scenarios.",
      skills: ["MySQL", "Redis", "Elasticsearch", "MongoDB"],
    },
    {
      title: "DevOps & Cloud",
      icon: "fab fa-docker",
      description: "Containerizing applications with Docker, orchestrating with Kubernetes, and implementing CI/CD pipelines for automated deployment and scaling.",
      skills: ["Docker", "Kubernetes", "Jenkins", "Linux"],
    },
  ],
  cta: {
    text: "Get in Touch",
    href: "/contact",
    icon: "fas fa-terminal",
  }
};
---

<section class="relative py-16 px-6 lg:px-12 max-w-6xl mx-auto z-10">
  <!-- Terminal Window -->
  <div class="relative bg-gray-900/80 rounded-lg border border-gray-800 terminal-shadow overflow-hidden">
    <!-- Terminal Header -->
    <div class="bg-gray-800 p-4 flex items-center gap-2">
      <div class="flex gap-1">
        <div class="w-3 h-3 bg-red-500 rounded-full"></div>
        <div class="w-3 h-3 bg-yellow-500 rounded-full"></div>
        <div class="w-3 h-3 bg-green-500 rounded-full"></div>
      </div>
      <div class="text-xs text-gray-400 font-code ms-auto">
        <span class="text-green-400">./</span>{content.header.path}
      </div>
    </div>

    <!-- Terminal Content -->
    <div class="relative p-8">
      <!-- Header -->
      <div class="mb-12 text-center" data-animate="fadeInUp" data-delay="100">
        <h2 class="text-3xl lg:text-4xl font-bold font-code text-white mb-2">
          {content.header.title}
        </h2>
        <p class="text-gray-400 max-w-3xl mx-auto">
          {content.header.subtitle}
        </p>
      </div>

      <!-- Services -->
      <div class="space-y-8">
        {content.services.map((service, index) => (
          <ServiceCard
            title={service.title}
            icon={service.icon}
            description={service.description}
            skills={service.skills}
            delay={(index + 1) * 100}
          />
        ))}
      </div>

      <!-- CTA -->
      <div class="text-center mt-12" data-animate="fadeInUp" data-delay="400">
        <Button 
          href={content.cta.href}
          link={true}
          variant="filled"
          color="green">
            <i class={content.cta.icon}></i> {content.cta.text}
        </Button>
      </div>
    </div>

    <!-- Coffee Cup -->
    <Coffee class="bottom-10 right-10" />
  </div>
</section>